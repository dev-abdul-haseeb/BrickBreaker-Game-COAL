INCLUDE Irvine32.inc
INCLUDE macros.inc
Includelib Winmm.lib 
; Colors:
; 0 = black, 1 = blue, 2 = green, 14 = yellow, 4 = red, 5 = magenta, 6 = brown, 7 = light gray, 8 = dark gray, 15 = white
PlaySound PROTO, pszSound:PTR BYTE, hmod:DWORD, fdwSound:DWORD

Block struct
    y1 byte ?
    y2 byte ?
    x byte ?
    
    colour byte ?
    strength byte ?
    space byte "          ", 0
Block ENDS

balls struct
    x Byte 25
    y Byte 59
    shape Byte "O", 0
balls ENDS

paddle struct
    x byte 28
    y byte 50
    space byte "          ", 0
paddle ENDS


.data                                                                                                                                      ;         
    
    initials db   "||\    /||     /\     =====\\  ======          ||==\\  \\    //     ", 0ah
             db   "||\\  //||    //\\    ||    || ||              ||   \\  \\  //      ", 0ah
             db   "|| \\// ||   //__\\   ||    || ======          ||===//   \\//    || ", 0ah
             db   "||      ||  //----\\  ||    || ||              ||   \\    ||        ", 0ah
             db   "||      || //      \\ =====//  ======          ||===//    ||     || ", 0ah, 0ah

             db   "/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\", 0ah
             db   "\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/", 0ah, 0ah

             db   "//=\\     /\         /\     =====\\             ||   ||     /\     //=\\ ====== ====== ||==\\   ", 0ah
             db   "||       //\\       //\\    ||    ||            ||   ||    //\\    ||    ||     ||     ||   \\  ", 0ah
             db   " \\     //__\\     //__\\   ||    ||     =\\    ||===||   //__\\    \\   ====== ====== ||===//  ", 0ah
             db   "  \\   //----\\   //----\\  ||    ||      //    ||   ||  //----\\    \\  ||     ||     ||   \\  ", 0ah
             db   "\\=// //      \\ //      \\ =====//      //     ||   || //      \\ \\=// ====== ====== ||===//  ", 0ah, 0ah

             db   "/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\", 0ah
             db   "\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/", 0ah, 0


    gameName db   "------------------------------------------------------------------------------------------------------------------------", 0ah
             db   "------------------------------------------------------------------------------------------------------------------------", 0ah
             db   "------------------------------------------------------------------------------------------------------------------------", 0ah
             db   "------------------------------------------------------------------------------------------------------------------------", 0ah
             db   "------------------------------------------------------------------------------------------------------------------------", 0ah
             db   "------------------------------------------------------------------------------------------------------------------------", 0ah
             db   "------------------------------------------------------------------------------------------------------------------------", 0ah
             db   "------------------------------------------------------------------------------------------------------------------------", 0ah
             db   "------------------------------------------------------------------------------------------------------------------------", 0ah
             db   "------------------------------------------------------------------------------------------------------------------------", 0ah
             db   "------------------------------------------------------------------------------------------------------------------------", 0ah
             db   "------------------------------------------------------------------------------------------------------------------------", 0ah
             db   "_________ ||==\\  //===\\ ========  //==\\ ||  //      ||==\\  //===\\ ======     /\     ||  // ====== //===\\ _________", 0ah
             db   "_________ ||   \\ ||   ||    ||    ||      || //       ||   \\ ||   || ||        //\\    || //  ||     ||   || _________", 0ah
             db   "_________ ||===// ||===//    ||    ||      ||//        ||===// ||===// ======   //__\\   ||//   ====== ||===// _________", 0ah
             db   "_________ ||   \\ ||\\       ||    ||      || \\       ||   \\ ||\\    ||      //----\\  || \\  ||     ||\\    _________", 0ah
             db   "_________ ||===// || \\   ========  \\==// ||  \\      ||===// || \\   ====== //      \\ ||  \\ ====== || \\   _________", 0ah
             db   "________________________________________________________________________________________________________________________", 0ah
             db   "________________________________________________________________________________________________________________________", 0ah
             db   "________________________________________________________________________________________________________________________", 0ah
             db   "________________________________________________________________________________________________________________________", 0ah
             db   "________________________________________________________________________________________________________________________", 0ah
             db   "________________________________________________________________________________________________________________________", 0ah
             db   "________________________________________________________________________________________________________________________", 0ah
             db   "________________________________________________________________________________________________________________________", 0ah
             db   "________________________________________________________________________________________________________________________", 0ah
             db   "________________________________________________________________________________________________________________________", 0ah
             db   "________________________________________________________________________________________________________________________", 0ah
             db   "________________________________________________________________________________________________________________________", 0ah, 0


    
    askname  db   "_________________ ====== ||\\    || ======== ====== //===\\       \\    //  //==\\  ||     || //===\\  _________________", 0ah
             db   "_________________ ||     || \\   ||    ||    ||     ||   ||        \\  //  ||    || ||     || ||   ||  _________________", 0ah
             db   "_________________ ====== ||  \\  ||    ||    ====== ||===//         \\//   ||    || ||     || ||===//  _________________", 0ah
             db   "_________________ ||     ||   \\ ||    ||    ||     ||\\             ||    ||    || ||     || ||\\     _________________", 0ah
             db   "_________________ ====== ||    \\||    ||    ====== || \\            ||     \\==//   \\===//  || \\    _________________", 0ah, 0ah, 0ah


             db   "_______________________________________ ||\\    ||     /\     ||\    /|| ====== ________________________________________", 0ah
             db   "_______________________________________ || \\   ||    //\\    ||\\  //|| ||     ________________________________________", 0ah
             db   "_______________________________________ ||  \\  ||   //__\\   || \\// || ====== ________________________________________", 0ah
             db   "_______________________________________ ||   \\ ||  //----\\  ||      || ||     ________________________________________", 0ah
             db   "_______________________________________ ||    \\|| //      \\ ||      || ====== ________________________________________", 0ah, 0ah, 0ah, 0

    printMenu db  "__________________________________  //||        //====\\ ||          //\\    \\    // __________________________________", 0ah
              db  "__________________________________ // ||        ||    || ||         //  \\    \\  //  __________________________________", 0ah
              db  "__________________________________    ||        ||====// ||        //____\\    \\//   __________________________________", 0ah
              db  "__________________________________    ||        ||       ||       //------\\    ||    __________________________________", 0ah
              db  "__________________________________ ======== ||  ||       ||===== //        \\   ||    __________________________________", 0ah,0ah, 0ah


              db  " ======     ======== ||\\    || //=\\ ======== //===\\  ||     ||  //===\\ ======== ========  //==\\  ||\\    || //=\\  ", 0ah
              db  "     ||        ||    || \\   || ||       ||    ||   ||  ||     || ||          ||       ||    ||    || || \\   || ||     ", 0ah
              db  " ======        ||    ||  \\  ||  \\      ||    ||===//  ||     || ||          ||       ||    ||    || ||  \\  ||  \\    ", 0ah
              db  " ||            ||    ||   \\ ||    \\    ||    ||\\     ||     || ||          ||       ||    ||    || ||   \\ ||   \\   ", 0ah
              db  " ====== ||  ======== ||    \\|| \\=//    ||    || \\    \\=====//  \\===//    ||    ========  \\==//  ||    \\|| \\=//  ", 0ah,0ah, 0ah


              db  "______________________________ ======     //=\\  //===\\  //==\\  //===\\  ======  //=\\  ______________________________", 0ah
              db  "______________________________     ||     ||    ||       ||    || ||   ||  ||      ||     ______________________________", 0ah
              db  "______________________________ ======      \\   ||       ||    || ||===//  ||====   \\    ______________________________", 0ah
              db  "______________________________     ||       \\  ||       ||    || ||\\     ||        \\   ______________________________", 0ah
              db  "______________________________ ====== ||  \\=//  \\===//  \\==//  || \\    ====== \\=//   ______________________________", 0ah, 0ah, 0ah


              db  "____________________________________ ||   ||     ====== \\    // ======== ======== _____________________________________", 0ah
              db  "____________________________________ ||   ||     ||      \\  //     ||       ||    _______________-_____________________", 0ah
              db  "____________________________________ ||===||     ||====   \\//      ||       ||    _____________________________________", 0ah
              db  "____________________________________      ||     ||       //\\      ||       ||    _____________________________________", 0ah
              db  "____________________________________      || ||  ======  //  \\  ========    ||    _____________________________________", 0ah, 0ah, 0
              
  printLevel1 db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "_________________________________ ||      ====== \\        // ====== ||        //||    _________________________________", 0ah
              db  "_________________________________ ||      ||      \\      //  ||     ||       // ||    _________________________________", 0ah
              db  "_________________________________ ||      ||====   \\    //   ||==== ||          ||    _________________________________", 0ah
              db  "_________________________________ ||      ||        \\  //    ||     ||          ||    _________________________________", 0ah
              db  "_________________________________ ======= ======     \\//     ====== =======  ======== _________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah, 0

  printLevel2 db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "_________________________________ ||      ====== \\        // ====== ||       =======  _________________________________", 0ah
              db  "_________________________________ ||      ||      \\      //  ||     ||            ||  _________________________________", 0ah
              db  "_________________________________ ||      ||====   \\    //   ||==== ||       =======  _________________________________", 0ah
              db  "_________________________________ ||      ||        \\  //    ||     ||       ||       _________________________________", 0ah
              db  "_________________________________ ======= ======     \\//     ====== =======  =======  _________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah, 0


printLevel3 db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "_________________________________ ||      ====== \\        // ====== ||       =======  _________________________________", 0ah
              db  "_________________________________ ||      ||      \\      //  ||     ||            ||  _________________________________", 0ah
              db  "_________________________________ ||      ||====   \\    //   ||==== ||       =======  _________________________________", 0ah
              db  "_________________________________ ||      ||        \\  //    ||     ||            ||  _________________________________", 0ah
              db  "_________________________________ ======= ======     \\//     ====== =======  =======  _________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah, 0

    lostLive  db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "__________________________________________________  //===\\   //===\\  _________________________________________________", 0ah
              db  "_________________________________________________  //     \\  \\    \\  ________________________________________________", 0ah
              db  "________________________________________________  //      //  //     \\  _______________________________________________", 0ah
              db  "_______________________________________________  //      //  //       \\  ______________________________________________", 0ah
              db  "_______________________________________________  \\      \\  \\       //  ______________________________________________", 0ah
              db  "________________________________________________  \\      \\  \\     //  _______________________________________________", 0ah
              db  "_________________________________________________  \\     //  //    //  ________________________________________________", 0ah
              db  "__________________________________________________  \\   //  //    //  _________________________________________________", 0ah
              db  "___________________________________________________  \\  \\  \\   //  __________________________________________________", 0ah
              db  "____________________________________________________  \\ ||   \\ //  ___________________________________________________", 0ah
              db  "_____________________________________________________  \\//    \//  ____________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah, 0

 instructions db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "------------------------------------------------------------------------------------------------------------------------", 0ah
              db  "_________________________________  The Game Contains 33 Bricks, Ball And A Bar. The Bar ________________________________", 0ah
              db  "_________________________________ Is Moveable  By The User, Whereas The Ball Is  Moving ________________________________", 0ah
              db  "_________________________________ Continuously, When the Bar  Hits The Ball  It Changes ________________________________", 0ah
              db  "_________________________________ The Direction Of The Ball. You can move the bar left  ________________________________", 0ah
              db  "_________________________________ and right by pressing 'A' and 'D' respectively.There  ________________________________", 0ah
              db  "_________________________________ Are Three Lives Which Are Reduced  When Ball Goes     ________________________________", 0ah
              db  "_________________________________ Below The Bar. The Score Is Increased When A Brick Is ________________________________", 0ah
              db  "_________________________________ Broken By The Ball. When All Bricks Are Broken On The ________________________________", 0ah
              db  "_________________________________    Screen, next Level Starts And Goes On for Three    ________________________________", 0ah
              db  "_________________________________ Levels And The Game Ends You Can View The ScoreBoard  ________________________________", 0ah
              db  "_________________________________                    In The Score.                      ________________________________", 0ah
              db  "_________________________________              Get  Ready Set Your Record!!!            ________________________________", 0ah
              db  "______________________________________________________ <GOOD LUCK> _____________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah
              db  "________________________________________________________________________________________________________________________", 0ah, 0


   pauseScreen db "------------------------------------------------------------------------------------------------------------------------", 0ah
               db "------------------------------------------------------------------------------------------------------------------------", 0ah
               db "------------------------------------------------------------------------------------------------------------------------", 0ah
               db "------------------------------------------------------------------------------------------------------------------------", 0ah
               db "------------------------------------------------------------------------------------------------------------------------", 0ah
               db "------------------------------------------------------------------------------------------------------------------------", 0ah
               db "------------------------------------------------------------------------------------------------------------------------", 0ah
               db "------------------------------------------------------------------------------------------------------------------------", 0ah
               db "------------------------------------------------------------------------------------------------------------------------", 0ah
               db "------------------------------------------------------------------------------------------------------------------------", 0ah
               db "------------------------------------------------------------------------------------------------------------------------", 0ah
               db "------------------------------------------------------------------------------------------------------------------------", 0ah
               db "________________________________ //====\\     /\     ||     ||  //=\\  ======  =====\\  ________________________________", 0ah
               db "________________________________ ||    ||    //\\    ||     ||  ||     ||      ||    || ________________________________", 0ah 
               db "________________________________ ||====//   //__\\   ||     ||   \\    ======  ||    || ________________________________", 0ah
               db "________________________________ ||        //----\\  ||     ||    \\   ||      ||    || ________________________________", 0ah
               db "________________________________ ||       //      \\  \\===//  \\=//   ======  =====//  ________________________________", 0ah
               db "________________________________________________________________________________________________________________________", 0ah
               db "________________________________________________________________________________________________________________________", 0ah
               db "________________________________________________________________________________________________________________________", 0ah
               db "________________________________________________________________________________________________________________________", 0ah
               db "________________________________________________________________________________________________________________________", 0ah
               db "________________________________________________________________________________________________________________________", 0ah
               db "________________________________________________________________________________________________________________________", 0ah
               db "________________________________________________________________________________________________________________________", 0ah
               db "________________________________________________________________________________________________________________________", 0ah
               db "________________________________________________________________________________________________________________________", 0ah
               db "________________________________________________________________________________________________________________________", 0ah
               db "________________________________________________________________________________________________________________________", 0ah, 0


    printWin  db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah 
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah,0ah

              db  "_____________________________ ||   //\\   || ======== ||\\    || ||\\    || ====== //===\\ _____________________________", 0ah
              db  "_____________________________ ||  //  \\  ||    ||    || \\   || || \\   || ||     ||   || _____________________________", 0ah
              db  "_____________________________ || //    \\ ||    ||    ||  \\  || ||  \\  || ====== ||===// _____________________________", 0ah
              db  "_____________________________ ||//      \\||    ||    ||   \\ || ||   \\ || ||     ||\\    _____________________________", 0ah
              db  "_____________________________ ||/        \|| ======== ||    \\|| ||    \\|| ====== || \\   _____________________________", 0ah, 0ah
              
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah, 0

    printOver db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah 
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah,0ah

              db  "_________________   //==\\         /\     ||\\    //|| ======      //==\\  \\        // ====== //===\\ _________________", 0ah
              db  "_________________  //             //\\    || \\  // || ||         ||    ||  \\      //  ||     ||   || _________________", 0ah
              db  "_________________ ||     =====   //__\\   ||  \\//  || ======     ||    ||   \\    //   ||==== ||===// _________________", 0ah
              db  "_________________  \\    || ||  //----\\  ||        || ||         ||    ||    \\  //    ||     ||\\    _________________", 0ah
              db  "_________________   \\==//  || //      \\ ||        || ======      \\==//      \\//     ====== || \\   _________________", 0ah, 0ah

              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah
              db  "////////////////////////////////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\", 0ah
              db  "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\////////////////////////////////////////////////////////////", 0ah, 0


    basic1 db "basic.wav",0
    voice1 db "voice1.wav",0
    voice2 db "voice2.wav",0
    SND_FILENAME EQU 00002000h
    SND_ASYNC EQU  00000001h
    SND_LOOP EQU  00000008h
    
    playerName BYTE 20 dup(?)
    bricks block <> , 32 DUP(<>)
    level byte 1
    totalLives byte 3
    livesPrint byte "0 ", 0
    score byte 0
    ball balls <>
    bar1 paddle <>
    levelJumpFlag BYTE 0
    bar_width BYTE 10
    
    randomBrick block <>
   
    ball_dx byte 1    ; Ball movement in x-direction
    ball_dy byte -1   ; Ball movement in y-direction
    keyInput byte ?   ; For storing user input
    init_ball_x byte 20
    init_ball_y byte 64
    init_bar_x byte 28
    init_bar_y byte 50

.code

Initialization PROC
    ; Initialize all variables
    mov eax, 0
    mov ebx, 0
    mov ecx, 0
    mov edx, 0

    mov bl, 0
    mov dl, 10
    mov dh, 4
    mov bh, 0
    mov esi, 0
    mov ecx, 33
    mov ball_dx, 1
    mov ball_dy, -1

initializer:
    cmp bl, 121
    je resetBl
    cmp dl, 131
    je resetDl
    cmp bh, 11
    je updateDh
    mov bricks[esi].y1, bl
    mov bricks[esi].y2, dl
    mov bricks[esi].x, dh
    mov bricks[esi].colour, 1
    mov al, level
    mov bricks[esi].strength, al
    add esi, SIZEOF block
    add bl, 11
    add dl, 11
    inc bh
    loop initializer
    jmp ballAndBar

resetBl:
    mov bl, 0
    jmp initializer

resetDl:
    mov dl, 10
    jmp initializer

updateDh:
    add dh, 3
    mov bh, 0
    jmp initializer

ballAndBar:
    mov al,init_ball_x
    mov ball.x,al
    mov al,init_ball_y
    mov ball.y,al
    mov al,init_bar_x
    mov bar1.x,al
    mov al,init_bar_y
    mov bar1.y,al
   

    jmp exitLoop

ExitLoop:
    ret
Initialization ENDP

PrintGame PROC
    ; Display lives and score
    mov dh, 0
    mov dl, 0
    call GotoXY
    mwrite "Lives: "
    movzx ecx, totalLives
    liveLoop:
        mov eax, red
        call settextColor
        movzx eax,livesPrint
        call writeChar
        mwrite " "
        loop liveLoop
    mov eax, white
    call setTextColor
    mov dl, 111
    mov dh, 0
    call GotoXY
    mwrite "Score: "
    movzx eax, score
    call WriteDec

    ; Draw the boundary
    mov dh, 1
    mov dl, 0
    call gotoXY
    mwrite "________________________________________________________________________________________________________________________"
    call crlf

    ; Print bricks
    mov esi, 0
    mov ecx, 33
    printBricks:
        mov dh, bricks[esi].x
        mov dl, bricks[esi].y1
        call GotoXY
        movzx ebx, bricks[esi].strength
        cmp bl, 0
        je printBlack
        cmp bl, 1
        je printLightGray
        cmp bl,2
        je printRed
        cmp bl,3
        je printBlue


        mov eax, black + (Blue * 16)
        call setTextColor
        lea edx, bricks[esi].space
        call WriteString
        mov eax, black + (black * 16)
        call setTextColor
        mwrite " "
        add esi, SIZEOF block
        loop printBricks

        jmp printBall

    printLightGray:
        mov bricks[esi].colour, 7
        mov eax, black + (7 * 16)
        call setTextColor
        lea edx, bricks[esi].space
        call WriteString
        mov eax, black + (black * 16)
        call setTextColor
        mwrite " "
        dec ecx
        cmp ecx, 0
        je printBall
        add esi, SIZEOF block
        jmp printBricks
    printRed:
        mov bricks[esi].colour, 4
        mov eax, black + (4 * 16)
        call setTextColor
        lea edx, bricks[esi].space
        call WriteString
        mov eax, black + (black * 16)
        call setTextColor
        mwrite " "
        dec ecx
        cmp ecx, 0
        je printBall
        add esi, SIZEOF block
        jmp printBricks
    printBlue:
        mov bricks[esi].colour, 0
        mov eax, black + (1 * 16)
        call setTextColor
        lea edx, bricks[esi].space
        call WriteString
        mov eax, black + (black * 16)
        call setTextColor
        mwrite " "
        dec ecx
        cmp ecx, 0
        je printBall
        add esi, SIZEOF block
        jmp printBricks

    printBlack:
        mov bricks[esi].colour, 0
        mov eax, black + (black * 16)
        call setTextColor
        lea edx, bricks[esi].space
        call WriteString
        mov eax, black + (black * 16)
        call setTextColor
        mwrite " "
        dec ecx
        cmp ecx, 0
        je printBall
        add esi, SIZEOF block
        jmp printBricks

    printBall:
        mov dl, ball.y
        mov dh, ball.x
        call GotoXY
        lea edx, ball.shape
        mov eax, white
        call setTextColor
        call writeString

    printPaddle:
        mov dl, bar1.y
        mov dh, bar1.x
        call GotoXY
        mov eax, white + (white * 16)
        call setTextColor
        lea edx, bar1.space
        call writeString
        ret
PrintGame ENDP

MoveBall PROC
    
    mov ah, ball_dx
    mov al, ball_dy
    add ball.x, ah
    add ball.y, al

    mov ecx, 33
    mov esi, 0
    brickCollider:
        cmp bricks[esi].strength, 0
        jle nextBrick
        mov bl, bricks[esi].y1
        mov bh, bricks[esi].y2
        mov dl, bricks[esi].x
        cmp ball.x, dl
        jne nextBrick
        cmp ball.y, bl
        jl nextBrick
        cmp ball.y, bh
        jg nextBrick
        
        neg ball_dx
        dec bricks[esi].strength
        cmp bricks[esi].strength, 0
        jne ending
        inc score
        jmp ending
       
        nextBrick:
            add esi, SIZEOF Block
            loop brickCollider
    
    WallCollider:
        cmp ball.y, 1
        jle BoundaryReached
        cmp ball.y, 119
        jge BoundaryReached
        jmp RoofCollider

    BoundaryReached:
        neg ball_dy
        jmp ending

    RoofCollider:
        cmp ball.x, 2
        jne PaddleCollider
        neg ball_dx

    PaddleCollider:
        mov bl, bar1.x
        dec bl              ;Checks if ball is on top of collider
        mov bh, bar1.y
        cmp ball.x, bl
        jne LivesChecking
        cmp ball.y, bh
        jl LivesChecking
        add bh, bar_width
        cmp ball.y, bh
        jg LivesChecking

        neg ball_dx
        jmp ending

    LivesChecking:
        cmp ball.x, 30
        jl ending
        dec totalLives
        INVOKE PlaySound, offset voice2,NULL,SND_FILENAME or SND_ASYNC or SND_LOOP

        mov edx, OFFSET lostLive
        call WriteString
        mov eax, 1500
        call Delay
        INVOKE PlaySound, NULL,NULL,0
        call ReadChar
        INVOKE PlaySound, offset basic1,NULL,SND_FILENAME or SND_ASYNC or SND_LOOP

        mov bl, init_ball_x         ;reset ball position
        mov ball.x, bl
        mov bl, init_ball_y
        mov ball.y, bl

        mov bl, init_bar_x          ;reset bar position
        mov bar1.x, bl
        mov bl, init_bar_y
        mov bar1.y, bl

        mov ball_dx, 1
        mov ball_dy, -1

    ending:

        ret

MoveBall ENDP


MovePaddle PROC
    ; Read user input to move paddle
    call Readkey
    mov keyInput, al

    ; Move left
    cmp keyInput, 'a'
    jne checkRight
    cmp bar1.y, 3
    jle donePaddle
    sub bar1.y, 5
    jmp donePaddle

checkRight:
    cmp keyInput, 'd'
    jne Pausing
    cmp bar1.y, 106
    jge donePaddle
    add bar1.y, 5
    jmp donePaddle
Pausing:
    
    call ClrScr
    call ResetConsoleColour
    cmp keyInput, 'p'
    jne donePaddle
    mov edx, OFFSET pauseScreen
    call WriteString
    call ReadChar
    cmp al, 'p'
    jne Pausing

donePaddle:
    call ClrScr
    call ResetConsoleColour
    ret
MovePaddle ENDP

checkBricks PROC
    mov ecx, 33
    mov esi, 0
    mov levelJumpFlag, 0
    checkingBricks:
        cmp bricks[esi].strength, 0
        jg ending
        add esi, sizeof Block
        loop checkingBricks
        mov levelJumpFlag, 1
    ending:
        ret
checkBricks ENDP


nameInput PROC
    mov edx, offset askname
    call WriteString
    mwrite"                                                  "    
    mov ecx, 20
    mov edx, offset playerName
    call ReadString
    ret
nameInput ENDP

randomBrickChecking PROC
    cmp RandomBrick.strength, 0
    je ending

    mov dh, ball.x
    mov dl, ball.y
    cmp dh, randomBrick.x
    jne ending
    cmp dl, randomBrick.y1
    jl ending
    cmp dl, randomBrick.y2
    jg ending
    mov RandomBrick.strength, 0
    mov ecx, 5
    Looper:
        cmp ecx, 0
        jle ending
        mov eax, 33 
        call RandomRange
        inc eax
        mov ebx, SIZEOF block
        mul ebx
        mov esi, eax
        cmp bricks[esi].strength, 0
        jle Looper
        dec ecx
        mov bricks[esi].strength, 0
        add score, 1
        jmp Looper
    ending:
        ret
randomBrickChecking ENDP

printRandom PROC
    cmp randomBrick.strength, 0
    jle ending
    mov dh, randomBrick.x
    mov dl, randomBrick.y1
    call GotoXY
    mov eax, yellow
    mov edx, OFFSET randomBrick.space
    call WriteString
    ending:
        ret
printRandom ENDP

initializeRandom PROC
    mov eax, 5
    call RandomRange 
    add eax, 10
    mov randomBrick.x, al
    mov eax, 109
    call RandomRange
    add eax, 1
    mov randomBrick.y1, al
    add al, 10
    mov randomBrick.y2, al
    mov randomBrick.strength, 1
    ret
initializeRandom ENDP
AskingMenu PROC
    mov eax, 0
    Looper:
        call resetConsoleColour
        call ClrScr
        mov edx, OFFSET printMenu
        call WriteString
        mwrite "                                                  "  
        call ReadInt
        cmp eax, 1
        je GamePlayPage
        cmp eax, 2
        je InstructionPage
        cmp eax, 3
        je ScoresPage
        cmp eax, 4
        je ending
        jmp Looper

    GamePlayPage:
        mov level, 1
        mov score, 0
        mov totalLives, 3
        call ClrScr
        Level1Looping:
            call ClrScr
            mov edx, OFFSET printLevel1
            call WriteString
            call ReadChar
            call Initialization
            call clrscr
            Level1Loop:
                call MoveBall
                cmp totalLives, 0
                jle ender
                call checkBricks
                cmp levelJumpFlag, 1
                je Level2Looping
                call MovePaddle
                call resetColor
                call PrintGame
                mov eax, 200
                call Delay
                call resetColor
                call clrscr

                jmp Level1Loop

        Level2Looping:
            call ClrScr
            mov edx, OFFSET printLevel2
            call WriteString
            call ReadChar
            mov level, 2
            mov esi, 7
            mov bar1.space[esi], 0      ;Reduce bar length
            mov bar_width, 7
            call ClrScr
            call Initialization
            call clrscr
            Level2Loop:
                call MoveBall
                cmp totalLives, 0
                jle ender
                call checkBricks
                cmp levelJumpFlag, 1
                je Level3Looping
                call MovePaddle
                call resetColor
                call PrintGame
                mov eax, 70
                call Delay
                call resetColor
                call clrscr

                jmp Level2Loop

        Level3Looping:
            
            call ClrScr
            mov edx, OFFSET printLevel3
            call WriteString
            call ReadChar
            mov level, 3
            mov esi, 5
            mov bar1.space[esi], 0      ;Reduce bar length
            mov bar_width, 5
            call ClrScr
            call Initialization
            call initializeRandom
            call clrscr
            Level3Loop:
                call MoveBall
                call randomBrickChecking
                cmp totalLives, 0
                jle ender
                call checkBricks
                cmp levelJumpFlag, 1
                je winner
                call MovePaddle
                call resetColor
                call PrintGame
                call printRandom
                mov eax, 50
                call Delay
                call resetColor
                call clrscr

                jmp Level3Loop

        winner:
            call resetConsoleColour
            call clrscr
            mov edx, OFFSET printWin
            call WriteString
            call ReadChar
            ;jmp RecordingScore
        ender:
            call resetConsoleColour
            call clrscr
            mov edx, OFFSET printOver
            call WriteString
            call ReadChar

        ReecordingScore:

            jmp Looper
    InstructionPage:
        call resetConsoleColour
        call ClrScr
        mov edx, OFFSET instructions
        call WriteString
        call ReadChar
        jmp Looper
    ScoresPage:

        jmp Looper

    ending:
        ret
AskingMenu ENDP

resetColor PROC
    mov eax, 15 + (black*16)
    call SetTextColor
    ret
resetColor ENDP

resetConsoleColour PROC
    mov eax, 15
    call SetTextColor
    ret
resetConsoleColour ENDP

Main PROC
    INVOKE PlaySound, offset basic1,NULL,SND_FILENAME or SND_ASYNC or SND_LOOP
    mov edx, OFFSET initials        ;Printing initials      
    call WriteString
    mov eax, 5000
    call Delay

    call ClrScr
    mov edx, OFFSET gameName        ;Printing gameName
    call WriteString
    mov eax, 5000
    call Delay

    call ClrScr
    call resetConsoleColour
    call nameInput
    call AskingMenu

    exit
Main ENDP

END Main